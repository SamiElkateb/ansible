# - name: Add Hombrew Taps
#   community.general.homebrew_tap:
#     name: "{{ item.name | default(item) }}"
#     state: "{{ item.state | default('present') }}"
#   loop: "{{ homebrew_taps }}"

# - name: Ensure Homebrew Packages Installed
#   community.general.homebrew:
#     name: "{{ item.name | default(item) }}"
#     state: "{{ item.state | default('present') }}"
#   loop: "{{ homebrew_installed_packages }}"

# - name: Ensure Homebrew Casks Installed
#   community.general.homebrew_cask:
#     name: "{{ item.name | default(item) }}"
#     state: "{{ item.state | default('present') }}"
#   loop: "{{ homebrew_cask_apps }}"
- block: 
  - name: Ensure Nvm downloaded
    get_url:
      url: https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.3/install.sh
      dest: "{{ download_dir }}/nvm_install.sh"
      checksum: sha256:2ed5e94ba12434370f0358800deb69f514e8bce90f13beb0e1b241d42c6abafd
      mode: 0755

  - name: Ensure nvm installed
    shell:
      cmd: >
        {{ download_dir }}/nvm_install.sh
        nvm install 18
        nvm use 18
      creates: "{{ home }}/.nvm"


- name: Download LunarVim
  get_url:
    url: https://raw.githubusercontent.com/LunarVim/LunarVim/release-1.3/neovim-0.9/utils/installer/install.sh
    dest: "{{ download_dir }}/lvim_install.sh"
    checksum: sha256:297a628c7a806dc5c9088364b69d633254a7bc413ff594a6b25d0e2659aad35b
    mode: 0755

- name: Install Lunarvim
  shell:
    cmd: > 
      LV_BRANCH='release-1.3/neovim-0.9' 
      yes | {{ download_dir }}/lvim_install.sh
    creates: "{{ home }}/.local/bin/lvim"

